<!doctype html><html lang="ko-KR" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" > <script data-goatcounter="https://sourla.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="톰캣 로그로 인한 스토리지 문제" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="TOMCAT이 올라간 서버가 storage 용량이 부족해서 기능이 동작안하는 사례가 있었다. 루트(/)스토리지 용량이 부족하여 용량이 그냥 부족한 줄 알았으나, logs 파일에서 과도하게 용량잡고있는 것을 확인하였다. 추가로 확인을 하던 도중 tomcat cache 문제로 과도하게 찍히고 있는 내용 확인. tomcat에서 cache설정을 늘려주고, 서버에서 로그 찍는 옵션을 줄여 처리하였음 추가 확인 내용" /><meta property="og:description" content="TOMCAT이 올라간 서버가 storage 용량이 부족해서 기능이 동작안하는 사례가 있었다. 루트(/)스토리지 용량이 부족하여 용량이 그냥 부족한 줄 알았으나, logs 파일에서 과도하게 용량잡고있는 것을 확인하였다. 추가로 확인을 하던 도중 tomcat cache 문제로 과도하게 찍히고 있는 내용 확인. tomcat에서 cache설정을 늘려주고, 서버에서 로그 찍는 옵션을 줄여 처리하였음 추가 확인 내용" /><link rel="canonical" href="https://sourla.github.io/posts/tomcat-cache-promblem/" /><meta property="og:url" content="https://sourla.github.io/posts/tomcat-cache-promblem/" /><meta property="og:site_name" content="KimAresen’s blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-26T23:11:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="톰캣 로그로 인한 스토리지 문제" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-02-17T10:18:34+09:00","datePublished":"2022-01-26T23:11:00+09:00","description":"TOMCAT이 올라간 서버가 storage 용량이 부족해서 기능이 동작안하는 사례가 있었다. 루트(/)스토리지 용량이 부족하여 용량이 그냥 부족한 줄 알았으나, logs 파일에서 과도하게 용량잡고있는 것을 확인하였다. 추가로 확인을 하던 도중 tomcat cache 문제로 과도하게 찍히고 있는 내용 확인. tomcat에서 cache설정을 늘려주고, 서버에서 로그 찍는 옵션을 줄여 처리하였음 추가 확인 내용","headline":"톰캣 로그로 인한 스토리지 문제","mainEntityOfPage":{"@type":"WebPage","@id":"https://sourla.github.io/posts/tomcat-cache-promblem/"},"url":"https://sourla.github.io/posts/tomcat-cache-promblem/"}</script><title>톰캣 로그로 인한 스토리지 문제 | KimAresen's blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="KimAresen's blog"><meta name="application-name" content="KimAresen's blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="https://avatars.githubusercontent.com/u/45420310?v=4" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">KimAresen's blog</a></div><div class="site-subtitle fst-italic">일단 쓰고 정리해보자</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>정보</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://github.com/sourla" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>톰캣 로그로 인한 스토리지 문제</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..." > </span> <span id="search-cancel">취소</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>톰캣 로그로 인한 스토리지 문제</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1643206260" data-df="DD/MM/YYYY" data-bs-toggle="tooltip" data-bs-placement="bottom" > 26/01/2022 </em> </span> <span> 업데이트 <em class="" data-ts="1676596714" data-df="DD/MM/YYYY" data-bs-toggle="tooltip" data-bs-placement="bottom" > 17/02/2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/username">KimAresen</a> </em> </span><div> <em id="pageviews"></em> views <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="333 단어" > <em>1 분</em>읽는 시간</span></div></div></div><div class="post-content"><h3 id="tomcat이-올라간-서버가-storage-용량이-부족해서-기능이-동작안하는-사례가-있었다"><span class="me-2">TOMCAT이 올라간 서버가 storage 용량이 부족해서 기능이 동작안하는 사례가 있었다.</span><a href="#tomcat이-올라간-서버가-storage-용량이-부족해서-기능이-동작안하는-사례가-있었다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>루트(/)스토리지 용량이 부족하여 용량이 그냥 부족한 줄 알았으나, logs 파일에서 과도하게 용량잡고있는 것을 확인하였다.<li>추가로 확인을 하던 도중 tomcat cache 문제로 과도하게 찍히고 있는 내용 확인.<li><h2 id="tomcat에서-cache설정을-늘려주고-서버에서-로그-찍는-옵션을-줄여-처리하였음"><span class="me-2">tomcat에서 cache설정을 늘려주고, 서버에서 로그 찍는 옵션을 줄여 처리하였음</span><a href="#tomcat에서-cache설정을-늘려주고-서버에서-로그-찍는-옵션을-줄여-처리하였음" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h1 id="추가-확인-내용">추가 확인 내용</h1><li>이미지 용량이 과도하여 cache설정으로 할 수 있는게 아니라고 판단하여 로그 찍는 옵션을 수정한게 효과적이었다.<ul><li>jpg 용량을 퀄리티를 반으로 내려서 올리는 로직이 들어가있었는데 30메가 짜리 이미지가 있는걸로보아 어마어마한 이미지 파일이 올라가려 했던것으로 추정<li>일단 해결하고 용량 관련 제한을 front에서 체크로직 추가했음<li>업로드 된 이미지에 대해 용량 제한을 걸어 WAS cache 사용량을 줄여보고 로그 추이를 보자<li><strong>TOMCAT 에서 못보던 로그가 찍히면 확인을 해보자</strong></ul></ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href='/categories/tomcat/'>tomcat</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/tomcat/" class="post-tag no-text-decoration" >tomcat</a></div><script src="https://utteranc.es/client.js" repo="sourla/blogComment" issue-term="pathname" theme="github-light" crossorigin="anonymous" async> </script><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%ED%86%B0%EC%BA%A3%20%EB%A1%9C%EA%B7%B8%EB%A1%9C%20%EC%9D%B8%ED%95%9C%20%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%20%EB%AC%B8%EC%A0%9C%20-%20KimAresen's%20blog&url=https%3A%2F%2Fsourla.github.io%2Fposts%2Ftomcat-cache-promblem%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%ED%86%B0%EC%BA%A3%20%EB%A1%9C%EA%B7%B8%EB%A1%9C%20%EC%9D%B8%ED%95%9C%20%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%20%EB%AC%B8%EC%A0%9C%20-%20KimAresen's%20blog&u=https%3A%2F%2Fsourla.github.io%2Fposts%2Ftomcat-cache-promblem%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=%ED%86%B0%EC%BA%A3%20%EB%A1%9C%EA%B7%B8%EB%A1%9C%20%EC%9D%B8%ED%95%9C%20%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%20%EB%AC%B8%EC%A0%9C%20-%20KimAresen's%20blog&url=https%3A%2F%2Fsourla.github.io%2Fposts%2Ftomcat-cache-promblem%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!" > </i> </span></div></div><script> let pv = document.getElementById('pageviews'); if (pv !== null) { const uri = location.pathname.replace(/\/$/, ''); const url = `https://sourla.goatcounter.com/counter/${encodeURIComponent(uri)}.json`; fetch(url) .then((response) => response.json()) .then((data) => { const count = data.count.replace(/\s/g, ''); pv.innerText = new Intl.NumberFormat().format(count); }) .catch((error) => { pv.innerText = '1'; }); } </script></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/career-retrospective/">퇴사 회고: 3년의 여정을 돌아보며</a><li class="text-truncate lh-lg"> <a href="/posts/test/">TEST 게시물</a><li class="text-truncate lh-lg"> <a href="/posts/intellij-tips/">Intellij 써보면서 이건 좋았다 하는 내용</a><li class="text-truncate lh-lg"> <a href="/posts/Intelij-command/">INTELLIJ 단축키</a><li class="text-truncate lh-lg"> <a href="/posts/Intellij-Debug/">intellij 디버깅 강의 보는중</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/intellij/">intellij</a> <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a> <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a> <a class="post-tag btn btn-outline-primary" href="/tags/tomcat/">tomcat</a> <a class="post-tag btn btn-outline-primary" href="/tags/browser/">browser</a> <a class="post-tag btn btn-outline-primary" href="/tags/db/">DB</a> <a class="post-tag btn btn-outline-primary" href="/tags/gitblog/">gitblog</a> <a class="post-tag btn btn-outline-primary" href="/tags/github/">github</a> <a class="post-tag btn btn-outline-primary" href="/tags/jekyll-theme-chirpy/">jekyll-theme-chirpy</a> <a class="post-tag btn btn-outline-primary" href="/tags/markdown/">Markdown</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">바로가기</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> 관련된 글</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/tomcat-security/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1646705520" data-df="DD/MM/YYYY" > 08/03/2022 </em><h4 class="pt-0 my-2" data-toc-skip>TOMCAT TLS 버전 문제</h4><div class="text-muted small"><p> 페이지 에러 증상 노후화된 서버의 페이지가 https 접속이 되지않음(화면 첨부) 원인 현재 최신 브라우저가 TLS 버전 1.0을 지원하지 않도록 보안패치가 되어 프로토콜 문제가 생김 조치 내용 임시조치로는 http 통신으로 페이지를 먼저 바꿔서 로그...</p></div></div></a></div><div class="col"> <a href="/posts/career-retrospective/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1764169200" data-df="DD/MM/YYYY" > 27/11/2025 </em><h4 class="pt-0 my-2" data-toc-skip>퇴사 회고: 3년의 여정을 돌아보며</h4><div class="text-muted small"><p> 3년이 조금 넘는 시간을 보낸 회사를 떠나며, 처음 입사했을 때와 현재 비교하여 바뀐 내용들.. 기술적 성장 프론트엔드 이해도 향상 원래는 잘 몰랐지만, 계속 보다 보니 FE 구동 원리와 디버깅 방법이 눈에 들어오기 시작했다. 개발 환경 최적화 기존에 VSCode에서 FE를 하고 BE는 IntelliJ를 쓰고 Database 접근은 각 접...</p></div></div></a></div><div class="col"> <a href="/posts/test/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1762527600" data-df="DD/MM/YYYY" > 08/11/2025 </em><h4 class="pt-0 my-2" data-toc-skip>TEST 게시물</h4><div class="text-muted small"><p> TEST 이것은 테스트 게시물입니다. 내용 항목 1 항목 2 항목 3 1 console.log(&quot;Hello, World!&quot;); 테스트 완료! - 이 글은 클로드 코드로 작성해본 글입니다.</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/first-my-writing/" class="btn btn-outline-primary" prompt="이전 글" ><p>첫 포스팅, 마크다운 문법</p></a> <a href="/posts/Intelij-command/" class="btn btn-outline-primary" prompt="다음 글" ><p>INTELLIJ 단축키</p></a></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/intellij/">intellij</a> <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a> <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a> <a class="post-tag btn btn-outline-primary" href="/tags/tomcat/">tomcat</a> <a class="post-tag btn btn-outline-primary" href="/tags/browser/">browser</a> <a class="post-tag btn btn-outline-primary" href="/tags/db/">DB</a> <a class="post-tag btn btn-outline-primary" href="/tags/gitblog/">gitblog</a> <a class="post-tag btn btn-outline-primary" href="/tags/github/">github</a> <a class="post-tag btn btn-outline-primary" href="/tags/jekyll-theme-chirpy/">jekyll-theme-chirpy</a> <a class="post-tag btn btn-outline-primary" href="/tags/markdown/">Markdown</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p><p>© 2025 <a href="https://twitter.com/username">KimAresen</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다." >일부 권리 보유</span></p></div></div></footer><div id="mask"></div><button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button> <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/ko.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/unregister.js"></script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
